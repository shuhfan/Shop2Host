<div class="wrapper">
    <%-include('../partials/adminMenu')%>

    <div class="main" style="height: 100vh;">
        <%-include('../partials/adminNav')%>

        <main class="content p-0" style="overflow: scroll; overflow-x: hidden;">
            <div class="container-fluid p-0">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Add New Category</h5>
                    </div>
                    <form action="/admin/add-category" method="POST"> <!-- Form starts here -->
                        <div class="card-body d-flex px-lg-5 px-md-5 px-sm-2">
                            <div class="col-10">
                                <input type="text" name="categoryName" class="form-control" placeholder="Category Name" required>
                            </div>
                            <div class="col-2">
                                <button type="submit" class="btn btn-primary ms-3">Add Category</button>
                            </div>
                        </div>
                    </form> <!-- Form ends here -->
                    <% if (message) { %> <!-- Display error or success messages -->
                        <div class="alert alert-danger text-center"><%= message %></div>
                    <% } %>
                    <div class="card-header">
                        <h5 class="card-title mb-0">Available Categories</h5>
                    </div>
                    <div class="card-body px-lg-5 px-md-5 px-sm-2">
                        <% categories.forEach(category => { %> <!-- Loop through categories -->
                            <div class="badge bg-lt-green rounded-2 my-1 d-flex align-items-center justify-content-between me-4" style="min-width: 150px; min-height: 30px; border: 1px solid gray;">
                                <span class="text-muted fs-5 me-2"><%= category.name %></span>
                                <form action="/admin/delete-category/<%= category.id %>" method="POST" style="display:inline;"> <!-- Form for deleting category -->
                                    <button type="submit" class="btn btn-danger btn-sm" style="cursor: pointer;">Delete</button>
                                </form>
                            </div>
                        <% }); %>
                    </div>
                </div>
            </div>
        </main>

        <%-include('../partials/dashboardFooter')%>
    </div>
</div>